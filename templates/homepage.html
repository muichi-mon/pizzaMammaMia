{% extends "home_base.html" %}

{% block title %}Pizza Mamma Mia | Home{% endblock %}

{% block hero %}
<section class="hero">
    <div class="hero-text">
        <h2>Welcome to Pizza Mamma Mia!</h2>
        <p>Hot, fresh, and made with love ‚Äî every single slice üçï</p>
    </div>
</section>
{% endblock %}

{% block content %}
<section class="featured">
    <h2>Our Most Popular Pizzas</h2>
    <div class="pizza-grid">
        {% for pizza in pizzas %}
        <div class="pizza-card">
            <!-- You can have a mapping from pizza name to image, or store image URL in DB -->
            <img src="{{ url_for('static', filename='images/' ~ pizza.name|lower|replace(' ', '_') ~ '.jpg') }}" alt="{{ pizza.name }}">
            <h3>{{ pizza.name }}</h3>
            <p class="pizza-price">‚Ç¨{{ "%.2f"|format(pizza.price) }}</p>
            <p class="pizza-description">Delicious {{ pizza.name }} pizza made fresh daily.</p>
            {% if pizza.is_vegan %}
                <span class="dietary-badge vegan">üå± Vegan</span>
            {% elif pizza.is_vegetarian %}
                <span class="dietary-badge vegetarian">ü•¨ Vegetarian</span>
            {% endif %}
            {% if session.get('customer_id') %}
                <form action="{{ url_for('add_to_cart', pizza_id=pizza.pizza_id) }}" method="POST">
                    <button type="submit" class="btn">Add to Cart</button>
                </form>
            {% else %}
                <a href="{{ url_for('signIn_route') }}" class="btn btn-disabled">Sign in to Add</a>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</section>

<section class="about">
    <h2>About Pizza Mamma Mia</h2>
    <p>
        Serving delicious pizzas since 1999! Every pizza is baked to perfection using
        locally sourced ingredients and hand-stretched dough made fresh daily.
    </p>
</section>
{% endblock %}
